{% extends 'analytics/base.html' %}

{% block dashboard_heading %}
    <header class="d-flex">
        <span>Campaign <br> <small>Site: {{ site.url }}</small></span>
        <span class="ml-auto font-weight-bold">Details</span>
    </header>
{% endblock %}

{% block dashboard_body %}
    <div class="d-flex flex-column">
        <h2 class="mx-auto mb-4" style="margin-top: 10%">Campaign (last 7 days):</h2>
        <div class="d-flex justify-content-center flex-column text-center">
            <div class="row w-100">
                {% for pg in object_list %}
                    <div class="col">
                        <div class="card border-dark">
                            <div class="card-header alert-dismissible">
                                <h3>{{ pg.name }}</h3>
                                <a href="{% url 'analytics:delete-page' pg.pk %}" class="close">
                                    <span aria-hidden="true">&times;</span>
                                </a>
                            </div>
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item">Page visit: {{ pg.get_visit_count_by_day }}</li>
                                <li class="list-group-item">Bounce rate: {{ pg.get_bounce_rate_by_day }}</li>
                            </ul>
                        </div>
                    </div>
                {% endfor %}
            </div>
            <div class="py-4">
                <a class="btn btn-primary" href="{% url 'analytics:new-page' %}">Create New Page</a>
            </div>
        </div>
    </div>
{% endblock %}
